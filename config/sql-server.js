/**
 * 连接数据库
 */
import mysqlDB from 'mysql'

/**
 * @param 方法1
 */

// sql语句 传入的数据，回调方法
// function dbConfigRun (sql,arr,callback) {
//   let db = mysqlDB.createConnection({
//     host:'127.0.0.1',
//     user: 'root',
//     password: 'root',  // 修改为你的密码
//     port: '3306',
//     database: 'demo' //数据库名
//   })
//   // 2.连接
//   db.connect((err) => {
//     if(err) {
//       throw(err);
//     }
//     console.log('数据库连接成功！')
//   })
//   // 对数据库进行操作
//   db.query(sql,arr,callback)
//   // 关闭数据库链接
//   db.end()
// }

/**
 * @param 方法2
 */
function dbConfigRun (sql,arr,callback) {
  let pool = mysqlDB.createPool({
    host:'127.0.0.1',
    user: 'root',
    password: 'root',  // 修改为你的密码
    port: '3306',
    database: 'demo' //数据库名
  })
  pool.getConnection((err,connection) => {
    connection.query(sql,arr,callback)
    connection.release() // 释放连接池中的数据库连接
    // connection.end() // 关闭数据库连接池
  })
}
export default dbConfigRun